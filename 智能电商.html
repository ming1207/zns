<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1.0,minimum-scale=1.0">
	<link rel="stylesheet" href="css/main.css">
	<title>Document</title>
</head>
<body>
	<header>
		<div class="logo">
			<img src="statics/logo.png" alt="">
		</div>
		<div class="search-bar">
			<input type="text" placeholder="最大品牌日，哈哈哈">
		</div>
		<div class="login">
			<span>登录</span>	
		</div>
	</header>
	<div class="slider">
		<ul>
			<li><img src="statics/5.jpg" alt=""></li>
			<li><img src="statics/0.jpg" alt=""></li>
			<li><img src="statics/1.jpg" alt=""></li>
			<li><img src="statics/2.jpg" alt=""></li>
			<li><img src="statics/3.jpg" alt=""></li>
			<li><img src="statics/4.jpg" alt=""></li>
			<li><img src="statics/5.jpg" alt=""></li>
			<li><img src="statics/0.jpg" alt=""></li>
		</ul>
	</div>
	<div class="enterances">
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
		<div class="enterance">
			<img src="statics/cart.png" alt="">
			<span>购物车</span>
		</div>
	</div>
	<div class="quick-news">
		<img src="statics/jd-news-tit.png" alt="">
		<span class="message">开业大酬宾，买一赠一万</span>
		<span>| <a href="javascript:;">更多</a></span>
	</div>
	<div class="activities">
		<div class="activity">
			<div class="left">
				<span class="title">排行榜</span>
				<span class="desc">热卖实时排名</span>
			</div>
			<div class="right">
				<img src="statics/shoes.jpg" alt="">
			</div>
		</div>
		<div class="activity">
			<div class="left">
				<span class="title">排行榜</span>
				<span class="desc">热卖实时排名</span>
			</div>
			<div class="right">
				<img src="statics/shoes.jpg" alt="">
			</div>
		</div>
	</div>
	<div class="ad">
		<div class="left">
			<img src="statics/big-ad.jpg" alt="">
		</div>
		<div class="right">
			<img src="statics/little-ad-1.jpg" alt="">
			<img src="statics/little-ad-2.jpg" alt="">
		</div>
	</div>
	<div class="product-recommend">

		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
		<div class="product">
			<img src="statics/fll.jpg" alt="">
			<span>【京东超市】Ferrero Rocher费列罗...</span>
			<div class="bottom">
				<span>￥200.00</span>
				<div>找相似</div>
			</div>
		</div>
	</div>
	<script>
		var doc = document.documentElement;

		doc.style.fontSize = doc.clientWidth/320 * 100 + 'px';
	</script>
	<script>
		
		var aCon = document.querySelector('.slider');
		var aLi = document.querySelectorAll('li');
		var oUl = document.querySelector('ul');
		var doc = document.documentElement;
		var currentIndex = 1;
		var distance = 80;
		var screenWidth = doc.clientWidth;
		var bReady = true;

		oUl.dataset.left = -screenWidth;

		// 拖拽
		aCon.addEventListener('touchstart',function(
			ev
		){
			if( !bReady ) return;

			var [{clientX}] = ev.targetTouches;
			var disX = clientX - (oUl.dataset.left || 0);
			var startX = clientX;

			oUl.style.transition = "0s";

			document.addEventListener('touchmove',fnMove,false)
			document.addEventListener('touchend',fnEnd,false)

			function fnMove(ev){
				var [{clientX}] = ev.targetTouches;
				var deltaX = clientX - disX;

				oUl.style.transform = `translateX(${deltaX}px)`;
			}

			function fnEnd(ev){
				document.removeEventListener('touchmove',fnMove,false)
				document.removeEventListener('touchend',fnEnd,false)

				var [{clientX}] = ev.changedTouches;
				var deltaX = clientX - startX;

				bReady = false

				oUl.style.transition = `0.4s`

				if( Math.abs(deltaX) > distance ){
					if( deltaX < 0 ){ // 往后翻
						currentIndex++

					} else if( deltaX > 0 ) {// 往前翻
						currentIndex--
					}
				}

				setPosition();
			}
		},false)

		oUl.addEventListener('transitionend',function(){

			bReady = true

			if( currentIndex < 1 ){
				currentIndex = aLi.length - 2;
				oUl.style.transition = `0s`
			}

			if( currentIndex > aLi.length - 2 ){
				currentIndex = 1;
				oUl.style.transition = `0s`
			}

			setPosition();
		},false)

		function setPosition(){
			oUl.style.transform = `translateX(${-currentIndex*screenWidth}px)`;
			oUl.dataset.left = -currentIndex*screenWidth;
		}
	</script>
</body>
</html>